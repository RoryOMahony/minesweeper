(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],[,,function(e,t,a){},,,,,,,function(e,t,a){},,,function(e,t,a){e.exports=a(26)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(10),c=a.n(i),l=(a(17),a(18),a(2),function(e){var t=e.text;return r.a.createElement("div",{className:"flex-row flex-main-axis-center"},r.a.createElement("h1",null,t))}),o=a(1),u=(a(9),function(e){var t=e.cell,a=e.gameOver,i=e.cellSelectedCallBack,c=e.rightClickCallBack,l=e.doubleClickCallBack,u=Object(n.useState)(!1),s=Object(o.a)(u,2),f=s[0],m=s[1],d=!t.display&&f?{borderStyle:"none"}:t.display?t.isMine&&t.selected?{borderStyle:"none",backgroundColor:"red"}:{borderStyle:"none"}:{borderStyle:"outset"},v=t.display?t.isMine?r.a.createElement("i",{className:"fa fa-bomb cell-icon","aria-hidden":"true"}):0===t.surroundingMines?"":t.surroundingMines:t.isFlagged?r.a.createElement("i",{className:"fa fa-flag cell-icon","aria-hidden":"true"}):"",E=t.isMine||t.isFlagged?"":"number-".concat(t.surroundingMines);return r.a.createElement("div",{className:"cell-container",onContextMenu:function(e){e.preventDefault()}},r.a.createElement("div",{style:d,className:"cell flex-row flex-main-axis-center flex-cross-axis-center noselect ".concat(E),onMouseDown:function(e){return n=e,void(a||(1!==n.buttons||t.isFlagged?2!==n.buttons||t.display||c(t):m(!0)));var n},onMouseUp:function(){!f||t.display||t.isFlagged||i(t)},onMouseEnter:function(e){return n=e,void(a||1!==n.buttons||t.isFlagged||m(!0));var n},onMouseLeave:function(){m(!1)},onDoubleClick:function(){a||!t.display||t.isMine||l(t)}},v))}),s=(a(19),a(11)),f=a(7),m=a(3),d=a(6),v="LOST",E="WON",g="IN_PROGRESS",p="NOT_STARTED",b=function e(t){Object(d.a)(this,e),this.gameState=p,this.numOfMines=0,this.flagsAvailable=0,this.score=0,this.board=t};function y(e,t){e.gameState=t}function h(e){return e.length}function N(e){return 0===h(e)?0:e[0].length}function w(e,t,a){var n=e[t];if(void 0!==n)return n[a]}function O(e,t,a,n){var r=e[t];void 0!==r&&(r[a]=n)}function S(e,t,a){for(var n=t-1,r=a-1,i=[],c=n;c<n+3;c++)for(var l=r;l<r+3;l++)x(t,a,c,l,i,e);return i}function x(e,t,a,n,r,i){if(e!==a||t!==n){var c=w(i,a,n);void 0!==c&&r.push(c)}}var M=function e(t,a){Object(d.a)(this,e),this.selected=!1,this.display=!1,this.isMine=!1,this.isFlagged=!1,this.row=t,this.column=a};function C(e){return j(e.rows,e.columns,e.mines)}function j(e,t,a){var n=function(e,t){for(var a=[],n=0;n<e;n++){var r=I(n,t);a.push(r)}return new b(a)}(e,t);return n.numOfMines=a,n.flagsAvailable=a,n}function I(e,t){for(var a=[],n=0;n<t;n++)a.push(new M(e,n));return a}function k(e,t){return e.some((function(e){return e.row===t.row&&e.column===t.column}))}function D(e){return Math.floor(Math.random()*e)}var R="INITIALISE_GAME",B="DISPLAY_CELL",A="DISPLAY_SURROUNDING_CELLS",F="TOGGLE_FLAGGED",G="INCREASE_SCORE",T="RESET_GAME",L="CHANGE_DIFFICULTY",_=function(e,t){var a=Object(m.a)({},e);switch(t.type){case R:var n,r=Object(f.a)(t.payload);try{for(r.s();!(n=r.n()).done;){U(n.value,a.board)}}catch(s){r.e(s)}finally{r.f()}return function(e){for(var t=h(e),a=N(e),n=0;n<t;n++)for(var r=0;r<a;r++){var i=w(e,n,r),c=S(e,n,r);i.surroundingMines=c.filter((function(e){return e.isMine})).length}}(a.board),y(a,g),a;case B:if(V(a))return a;var i=P(t.payload,a.board);if(i.selected=!0,i.isMine)y(a,v),W(a);else{if(0===i.surroundingMines)J(i,a.board).forEach((function(e){return P(e,a.board)}));y(a,Y(a))}return a;case A:if(V(a))return a;var c=t.payload,l=c.row,o=c.column;if(S(a.board,l,o).filter((function(e){return e.isFlagged})).length===t.payload.surroundingMines){var u=J(t.payload,a.board);u.forEach((function(e){return P(e,a.board)})),u.filter((function(e){return e.isMine})).forEach((function(e){return e.selected=!0})),y(a,Y(a))}return a.gameState===v&&W(a),a;case F:return V(a)||(t.payload.isFlagged?a.flagsAvailable+=1:function(e){e.flagsAvailable-=1}(a),function(e,t){var a=e.row,n=e.column,r=Object(m.a)(Object(m.a)({},e),{},{isFlagged:!e.isFlagged});O(t,a,n,r)}(t.payload,a.board)),a;case G:return function(e,t){e.score=t}(a,a.score+1),a;case T:return j(h(a.board),N(a.board),a.numOfMines);case L:return C(t.payload);default:return e}};function P(e,t){var a=w(t,e.row,e.column),n=Object(m.a)(Object(m.a)({},a),{},{display:!0});return O(t,n.row,n.column,n),n}function U(e,t){var a=w(t,e.row,e.column),n=Object(m.a)(Object(m.a)({},a),{},{isMine:!0});return O(t,n.row,n.column,n),n}function V(e){return e.gameState===v||e.gameState===E}function W(e){var t,a=Object(f.a)(e.board);try{for(a.s();!(t=a.n()).done;){t.value.filter((function(e){return e.isMine})).forEach((function(e){return e.display=!0}))}}catch(n){a.e(n)}finally{a.f()}}function Y(e){var t,a=!0,n=Object(f.a)(e.board);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.filter((function(e){return e.isMine})).some((function(e){return e.display})))return v;r.filter((function(e){return!e.isMine})).every((function(e){return e.display}))||(a=!1)}}catch(i){n.e(i)}finally{n.f()}return a?E:g}function J(e,t){for(var a=new Set,n=[e];0!==n.length;){var r=n.pop();if(!a.has(r))S(t,r.row,r.column).filter((function(e){return!e.isFlagged&&!e.display})).forEach((function(e){e.display=!0,0===e.surroundingMines&&n.push(e)})),a.add(r)}return Object(s.a)(a)}var X=function(e){var t=e.gameState,a=e.gameBoard,i=e.numOfMines,c=e.gameBoardDispatch,l=Object(n.useCallback)((function(e){if(t===p){var n=function(e,t,a){for(var n=h(e),r=N(e),i=[],c=0;c<t;c++)for(var l=!1;!l;){var o=D(n),u=D(r);if(o!==a.row||u!==a.column){var s=w(e,o,u);k(i,s)||(s.isMine=!0,i.push(s),l=!0)}}return i}(a,i,e);c({type:R,payload:n})}c({type:B,payload:e})}),[c,t,a,i]),o=Object(n.useCallback)((function(e){c({type:A,payload:e})}),[c]),s=Object(n.useCallback)((function(e){c({type:F,payload:e})}),[c]),f=t===v||t===E;return r.a.createElement("div",{className:"flex-column game-board-container"},a.map((function(e,t){var a=e.map((function(e){return r.a.createElement(u,{cell:e,gameOver:f,cellSelectedCallBack:l,rightClickCallBack:s,doubleClickCallBack:o,key:e.column})}));return r.a.createElement("div",{className:"flex-row",key:t},a)})))},H=(a(20),a(21),a(22),function(e){var t=function(e){return e<0?"-"+(-1*e).toString().padStart(2,0):e.toString().padStart(3,0)}(e.number);return r.a.createElement("div",{className:"number-display flex-row flex-main-axis-center flex-cross-axis-center"},t)}),$=(a(23),function(e){var t=e.gameState,a=e.gameDispatch;var n=t===v?"fa-frown-o":t===E?"fa-trophy":"fa-smile-o";return r.a.createElement("div",{className:"flex-row flex-main-axis-center flex-cross-axis-center"},r.a.createElement("div",{className:"cell-container",onClick:function(){a({type:T})}},r.a.createElement("div",{className:"cell game-control flex-row flex-main-axis-center flex-cross-axis-center noselect"},r.a.createElement("i",{className:"fa ".concat(n),"aria-hidden":"true"}))))}),q=function(e){var t=e.game,a=e.gameDispatch;return r.a.createElement("div",{className:"flex-row flex-main-axis-space-between game-info"},r.a.createElement(H,{number:t.flagsAvailable}),r.a.createElement($,{gameState:t.gameState,gameDispatch:a}),r.a.createElement(H,{number:t.score}))},z=function(e){var t=e.difficultyInfo,a=e.gameDispatch;return r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){a({type:L,payload:t})}},t.title))},K={BEGINNER:{title:"Beginner",rows:10,columns:10,mines:10},INTERMEDIATE:{title:"Intermediate",rows:16,columns:16,mines:40},EXPERT:{title:"Expert",rows:16,columns:30,mines:99}},Q=(a(24),function(e){var t=e.gameDispatch,a=e.hideModalCallback,i=Object(n.useState)(K.BEGINNER.rows),c=Object(o.a)(i,2),l=c[0],u=c[1],s=Object(n.useState)(K.BEGINNER.columns),f=Object(o.a)(s,2),m=f[0],d=f[1],v=Object(n.useState)(K.BEGINNER.mines),E=Object(o.a)(v,2),g=E[0],p=E[1];function b(e,t){if(!isNaN(e)){var a=parseInt(e);a<=0||t(a)}}return r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"modal-content custom-difficulty-modal"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),g>=l*m||(t({type:L,payload:{rows:l,columns:m,mines:g}}),a())}},r.a.createElement("div",{className:"custom-difficulty-form-row"},r.a.createElement("label",{htmlFor:"rows"},"Rows"),r.a.createElement("input",{type:"number",name:"rows",defaultValue:l,onChange:function(e){return b(e.target.value,(function(e){return u(e)}))}})),r.a.createElement("div",{className:"custom-difficulty-form-row"},r.a.createElement("label",{htmlFor:"columns"},"Columns"),r.a.createElement("input",{type:"number",name:"columns",defaultValue:m,onChange:function(e){return b(e.target.value,(function(e){return d(e)}))}})),r.a.createElement("div",{className:"custom-difficulty-form-row"},r.a.createElement("label",{htmlFor:"mines"},"Mines"),r.a.createElement("input",{type:"number",name:"mines",defaultValue:g,onChange:function(e){return b(e.target.value,(function(e){return p(e)}))}})),r.a.createElement("div",{className:"custom-difficulty-form-controls"},r.a.createElement("input",{className:"custom-difficulty-form-control",type:"button",value:"Cancel",onClick:function(){a()}}),r.a.createElement("input",{className:"custom-difficulty-form-control",type:"submit",value:"Submit"})))))}),Z=function(e){var t=e.gameDispatch,a=Object(n.useState)(!1),i=Object(o.a)(a,2),c=i[0],l=i[1],u=Object(n.useCallback)((function(){l(!1)}),[]);return r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return l(!0)}},"Custom"),c&&r.a.createElement(Q,{gameDispatch:t,hideModalCallback:u}))},ee=(a(25),function(e){var t=e.gameDispatch;return r.a.createElement("div",{className:"flex-row flex-main-axis-center"},r.a.createElement("div",{className:"difficulty-container-item"},r.a.createElement(z,{className:"difficulty-container-item",gameDispatch:t,difficultyInfo:K.BEGINNER})),r.a.createElement("div",{className:"difficulty-container-item"},r.a.createElement(z,{className:"difficulty-container-item",gameDispatch:t,difficultyInfo:K.INTERMEDIATE})),r.a.createElement("div",{className:"difficulty-container-item"},r.a.createElement(z,{className:"difficulty-container-item",gameDispatch:t,difficultyInfo:K.EXPERT})),r.a.createElement("div",{className:"difficulty-container-item"},r.a.createElement(Z,{className:"difficulty-container-item",gameDispatch:t})))}),te=function(){var e=Object(n.useReducer)(_,C(K.BEGINNER)),t=Object(o.a)(e,2),a=t[0],i=t[1];return Object(n.useEffect)((function(){var e;return a.gameState===g&&(e=setInterval((function(){i({type:G})}),1e3)),function(){e&&clearInterval(e)}}),[a.gameState]),r.a.createElement("div",{className:"flex-column flex-cross-axis-center"},r.a.createElement("div",null,r.a.createElement(ee,{gameDispatch:i})),r.a.createElement("div",{id:"game"},r.a.createElement(q,{game:a,gameDispatch:i}),r.a.createElement(X,{gameState:a.gameState,gameBoard:a.board,numOfMines:a.numOfMines,gameBoardDispatch:i})))};var ae=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{id:"title-container"},r.a.createElement(l,{text:"Minesweeper"})),r.a.createElement("div",{id:"game-container",className:"flex-row flex-main-axis-center"},r.a.createElement(te,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[12,1,2]]]);
//# sourceMappingURL=main.b79e3684.chunk.js.map